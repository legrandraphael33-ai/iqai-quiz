<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IQAI Test - I Quit AI</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;}

:root{
  --title-font:'Press Start 2P', monospace;
  --body-font:'Inter', system-ui, sans-serif;
}

body{
  min-height:100vh;
  background:linear-gradient(135deg,#f0c79e,#e3a56b);
  font-family:var(--body-font);
  display:flex;
  justify-content:center;
  padding:20px;
}

.hidden{display:none}

/* ===== TITLE ===== */
h1{
  font-family:var(--title-font);
  font-size:clamp(1.4rem,5vw,2.2rem);
  text-align:center;
  margin-bottom:6px;
  white-space:nowrap;
}
h1 span{display:inline-block}

.title-sep{margin:0 8px;color:#fff}
.cursor{animation:blink 1s steps(2,start) infinite}

@keyframes blink{
  0%{opacity:1}
  50%{opacity:0}
  100%{opacity:1}
}

.subtitle{
  text-align:center;
  font-weight:800;
  color:#fff;
  margin-bottom:18px;
}

/* ===== CONTAINER ===== */
.container{
  width:100%;
  max-width:560px;
  background:#fff;
  border-radius:18px;
  padding:26px;
  box-shadow:0 10px 28px rgba(0,0,0,.18);
}

/* ===== START SLIDER ===== */
#sliderTrack{
  height:56px;
  background:#263238;
  border-radius:14px;
  position:relative;
  overflow:hidden;
  user-select:none;
  touch-action:none;
}
#sliderThumb{
  height:56px;
  width:56px;
  background:#ff8f00;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  cursor:pointer;
  position:absolute;
  left:0;
  top:0;
  z-index:2;
  touch-action:none;
}
.sliderText{
  position:absolute;
  width:100%;
  text-align:center;
  line-height:56px;
  color:#fff;
  font-weight:900;
  opacity:.7;
  pointer-events:none;
}

/* ===== QUIZ ===== */
.question{font-weight:800;margin-bottom:12px}
.options button{
  width:100%;
  margin:6px 0;
  padding:12px 14px;
  border:none;
  border-radius:12px;
  background:#ff8f00;
  color:#fff;
  font-weight:800;
}
#nextBtn{
  margin-top:10px;
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  background:#263238;
  color:#fff;
  font-weight:900;
}
#timer{text-align:center;font-weight:900;margin-bottom:8px}
</style>
</head>

<body>

<div class="container">

<!-- ===== START SCREEN ===== -->
<div id="startScreen">
  <h1 id="title"></h1>
  <p class="subtitle">I Quit AI</p>

  <div id="sliderTrack">
    <div id="sliderThumb">▶</div>
    <span class="sliderText">Glisse pour démarrer</span>
  </div>
</div>

<!-- ===== QUIZ ===== -->
<div id="quiz" class="hidden">
  <div id="timer"></div>
  <div id="questionContainer"></div>
  <div class="options" id="optionsContainer"></div>
  <button id="nextBtn" disabled>Suivant</button>
</div>

<audio id="bootAudio" src="Gameboy.mp3" preload="auto"></audio>

<script>
/* ===== TITLE BOOT ===== */
const colors=["#FF4136","#FFDC00","#2ECC40","#0074D9","#FF851B","#B10DC9"];
const title=document.getElementById("title");
const parts=["IQAI","Test"];
let colorIndex=0;

function addColored(text){
  text.split("").forEach((c,i)=>{
    const s=document.createElement("span");
    s.textContent=c;
    s.style.opacity="0";
    s.style.color=colors[(colorIndex+i)%colors.length];
    title.appendChild(s);
    setTimeout(()=>s.style.opacity="1",200*i);
  });
  colorIndex+=text.length;
}

function playBootTitle(){
  title.innerHTML="";
  colorIndex=0;
  addColored(parts[0]);
  const sep=document.createElement("span");
  sep.textContent=" | ";
  sep.className="title-sep cursor";
  title.appendChild(sep);
  addColored(parts[1]);
}

/* ===== START SLIDER ===== */
const startScreen=document.getElementById("startScreen");
const quiz=document.getElementById("quiz");
const bootAudio=document.getElementById("bootAudio");

const thumb=document.getElementById("sliderThumb");
const track=document.getElementById("sliderTrack");

let dragging=false;
let startX=0;

thumb.addEventListener("pointerdown",e=>{
  dragging=true;
  startX=e.clientX;
  thumb.setPointerCapture(e.pointerId);
});

document.addEventListener("pointermove",e=>{
  if(!dragging)return;
  const dx=e.clientX-startX;
  const max=track.clientWidth-thumb.clientWidth;
  const pos=Math.max(0,Math.min(dx,max));
  thumb.style.transform=`translateX(${pos}px)`;
  if(pos>=max-5){
    dragging=false;
    startGame();
  }
});

document.addEventListener("pointerup",()=>{
  if(!dragging)return;
  dragging=false;
  thumb.style.transform="translateX(0)";
});

/* ===== START GAME ===== */
function startGame(){
  startScreen.classList.add("hidden");
  quiz.classList.remove("hidden");
  playBootTitle();
  try{bootAudio.currentTime=0;bootAudio.play()}catch{}
}
</script>

</body>
</html>
